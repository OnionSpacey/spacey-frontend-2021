<div class="head-prod-edit">
  <mat-label class="edit-label">
    <h1 class="edit-h">EDIT PRODUCT</h1>
  </mat-label>
</div>
<form name="EditProduct" [formGroup]="editProductForm" (ngSubmit)="onSubmit()">
  <table class="table-edit">
    <tr>
      <td>
        <h3 class="edit-h">ID: {{product.id}}</h3>
        <h3 class="edit-h">Create: {{product.createDate}}</h3>
      </td>
      <td>
        <h3 class="edit-h">Category</h3>
        <mat-form-field appearance="fill">
          <mat-select
            formControlName="category"
            [(ngModel)]="product.category.name"
          >
            <mat-option *ngFor="let category of categories" [value]="category">
              {{ category.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </td>
      <td colspan="2">
        <h3 class="edit-h">Name</h3>
        <mat-form-field class="input-name" appearance="fill">
          <input
            matInput
            type="text"
            placeholder="Name"
            formControlName="name"
            [(ngModel)]="product.name"
          />
        </mat-form-field>
      </td>
      <td rowspan="3" class="cell-photo">
        <input
          type="image"
          class="photo"
          value="Photo"
          alt="Photo"
          [(ngModel)]="product.photo"
        />
      </td>
    </tr>
    <tr>
      <td>
        <h3 class="edit-h">Sex</h3>
        <mat-form-field appearance="fill">
          <mat-select formControlName="productSex" placeholder="Sex" [(ngModel)]="product.productSex">
            <mat-option value="MEN">MEN</mat-option>
            <mat-option value="WOMEN">WOMEN</mat-option>
          </mat-select>
        </mat-form-field>
      </td>
      <td>
        <h3 class="edit-h">Color</h3>
        <mat-form-field appearance="fill">
          <mat-select
            placeholder="Color"
            [formGroup]="editProductForm"
            formControlName="color"
            [(ngModel)]="product.color.name"
          >
            <mat-option *ngFor="let color of colors" [value]="color">
              {{ color.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </td>
      <td>
        <h3 class="edit-h">Price</h3>
        <mat-form-field class="input-field" appearance="fill">
          <input
            matInput
            type="number"
            placeholder="Price"
            [formGroup]="editProductForm"
            formControlName="price"
            [(ngModel)]="product.price"
          />
        </mat-form-field>
      </td>
      <td>
        <h3 class="edit-h">Discount</h3>
        <mat-form-field class="input-field" appearance="fill">
          <input
            matInput
            type="number"
            placeholder="Discount"
            [formGroup]="editProductForm"
            formControlName="discount"
            [(ngModel)]="product.discount"
          />
        </mat-form-field>
      </td>
    </tr>
    <tr>
      <td colspan="4">
        <h3 class="edit-h">Material</h3>
        <mat-form-field appearance="fill" class="material-field">
          <mat-select
            multiple
            placeholder="Select materials"
            [formGroup]="editProductForm"
            formControlName="materials"
            [(ngModel)]="product.materials"
          >
            <mat-option
              *ngFor="let material of materialsList"
              [value]="material"
            >
              {{ material.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </td>
    </tr>
    <tr>
      <td colspan="4" rowspan="5">
        <h3 class="edit-h">Description</h3>
        <mat-form-field class="input-description" appearance="fill">
          <textarea
            matInput
            spellcheck="true"
            class="description"
            placeholder="Some information about product"
            [formGroup]="editProductForm"
            formControlName="description"
            [(ngModel)]="product.description"
          >
          </textarea>
        </mat-form-field>
        <div class="deactivate-box">
          <mat-checkbox
          [formGroup]="editProductForm"
          formControlName="isAvailable"
          [(ngModel)]="product.isAvailable"
          >
            <mat-label class="edit-h">Activate product</mat-label>
          </mat-checkbox>
        </div>
      </td>
      <td rowspan="5" class="sizes">
        <tr *ngFor="let size of sizesAmount; let i = index; trackBy: onTrackBy">
          <td>
            <div class="sizes">
              <mat-label class="edit-h"> {{ size.name }}: </mat-label>
              <mat-form-field class="size-amount" appearance="fill">
                <input
                  matInput
                  type="number"
                  placeholder="Amount"
                  formControlName="sizes"
                  [(ngModel)]="sizesAmount[i].quantity"
                />
              </mat-form-field>
              <br />
            </div>
          </td>
        </tr>
  </table>

  <br />
  <div class="wrapper">
    <button mat-raised-button class="edit-btn" type="submit" color="accent" (click)="onSubmit()">
      SAVE CHANGES
    </button>
  </div>
  <br />
  <div class="wrapper">
    <button
      mat-raised-button
      class="edit-btn delete-btn"
      type="submit"
      color="accent"
    >
      DELETE PRODUCT
    </button>
  </div>
</form>
